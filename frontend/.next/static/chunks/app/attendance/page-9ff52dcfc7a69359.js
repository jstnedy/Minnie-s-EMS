(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{4567:(e,t,a)=>{"use strict";a.d(t,{AppNav:()=>c});var s=a(5155),l=a(2619),n=a.n(l),r=a(6489);function c(e){let{role:t}=e,a=[{href:"/dashboard",label:"Dashboard",roles:["ADMIN","SUPERVISOR"]},{href:"/employees",label:"Employees",roles:["ADMIN","SUPERVISOR"]},{href:"/attendance",label:"Attendance",roles:["ADMIN","SUPERVISOR"]},{href:"/payroll",label:"Payroll",roles:["ADMIN","SUPERVISOR"]},{href:"/me",label:"My Records",roles:["ADMIN","SUPERVISOR","EMPLOYEE"]}].filter(e=>e.roles.includes(t));return(0,s.jsx)("div",{className:"sticky top-0 z-10 border-b border-orange-100 bg-white",children:(0,s.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-3",children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-orange-700",children:"Pastry Pal"}),(0,s.jsxs)("nav",{className:"flex items-center gap-3",children:[a.map(e=>(0,s.jsx)(n(),{href:e.href,className:"text-sm text-slate-700 hover:text-orange-700",children:e.label},e.href)),(0,s.jsx)("button",{className:"btn-secondary",onClick:()=>(0,r.signOut)({callbackUrl:"/login"}),children:"Logout"})]})]})})}},5937:(e,t,a)=>{"use strict";a.d(t,{AttendanceClient:()=>n});var s=a(5155),l=a(2115);function n(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)("");async function r(){let e=a?"?employeeId=".concat(encodeURIComponent(a)):"",s=await fetch("/api/attendance".concat(e));t(await s.json())}async function c(e,t,a){if(!(await fetch("/api/attendance/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeIn:t,timeOut:a,editReason:"Manual correction"})})).ok)return void alert("Unable to save");await r()}return(0,l.useEffect)(()=>{r()},[]),(0,s.jsxs)("div",{className:"card space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{className:"field max-w-44",placeholder:"Employee ID",value:a,onChange:e=>n(e.target.value)}),(0,s.jsx)("button",{className:"btn-secondary",onClick:r,children:"Filter"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-slate-200 text-left",children:[(0,s.jsx)("th",{className:"py-2",children:"Employee"}),(0,s.jsx)("th",{className:"py-2",children:"Time In"}),(0,s.jsx)("th",{className:"py-2",children:"Time Out"}),(0,s.jsx)("th",{className:"py-2",children:"Action"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{let t=new Date(e.timeIn).toISOString().slice(0,16),a=e.timeOut?new Date(e.timeOut).toISOString().slice(0,16):"";return(0,s.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,s.jsxs)("td",{className:"py-2",children:[e.employee.employeeId," - ",e.employee.fullName]}),(0,s.jsx)("td",{className:"py-2",children:new Date(e.timeIn).toLocaleString()}),(0,s.jsx)("td",{className:"py-2",children:e.timeOut?new Date(e.timeOut).toLocaleString():"Open"}),(0,s.jsx)("td",{className:"py-2",children:(0,s.jsx)("button",{className:"btn-secondary",onClick:()=>c(e.id,new Date(t).toISOString(),a?new Date(a).toISOString():null),children:"Quick Save"})})]},e.id)})})]})})]})}},9731:(e,t,a)=>{Promise.resolve().then(a.bind(a,4567)),Promise.resolve().then(a.bind(a,5937))}},e=>{e.O(0,[489,619,441,255,358],()=>e(e.s=9731)),_N_E=e.O()}]);