(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708],{4567:(e,a,l)=>{"use strict";l.d(a,{AppNav:()=>c});var s=l(5155),t=l(2619),r=l.n(t),n=l(6489);function c(e){let{role:a}=e,l=[{href:"/dashboard",label:"Dashboard",roles:["ADMIN","SUPERVISOR"]},{href:"/employees",label:"Employees",roles:["ADMIN","SUPERVISOR"]},{href:"/attendance",label:"Attendance",roles:["ADMIN","SUPERVISOR"]},{href:"/payroll",label:"Payroll",roles:["ADMIN","SUPERVISOR"]},{href:"/me",label:"My Records",roles:["ADMIN","SUPERVISOR","EMPLOYEE"]}].filter(e=>e.roles.includes(a));return(0,s.jsx)("div",{className:"sticky top-0 z-10 border-b border-orange-100 bg-white",children:(0,s.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-3",children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-orange-700",children:"Pastry Pal"}),(0,s.jsxs)("nav",{className:"flex items-center gap-3",children:[l.map(e=>(0,s.jsx)(r(),{href:e.href,className:"text-sm text-slate-700 hover:text-orange-700",children:e.label},e.href)),(0,s.jsx)("button",{className:"btn-secondary",onClick:()=>(0,n.signOut)({callbackUrl:"/login"}),children:"Logout"})]})]})})}},5129:(e,a,l)=>{Promise.resolve().then(l.bind(l,4567)),Promise.resolve().then(l.bind(l,9135))},9135:(e,a,l)=>{"use strict";l.d(a,{EmployeesClient:()=>c});var s=l(5155),t=l(2619),r=l.n(t),n=l(2115);function c(){let[e,a]=(0,n.useState)([]),[l,t]=(0,n.useState)(""),[c,i]=(0,n.useState)(!1),[o,d]=(0,n.useState)({employeeId:"",fullName:"",email:"",contactNumber:"",role:"EMPLOYEE",hourlyRate:"12.00",passkey:"000000",status:"ACTIVE"});async function m(){let e=await fetch("/api/employees?q=".concat(encodeURIComponent(l)));a(await e.json())}async function h(e){e.preventDefault(),i(!0);let a=await fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,hourlyRate:Number(o.hourlyRate)})});if(i(!1),!a.ok)return void alert("Unable to create employee");d({employeeId:"",fullName:"",email:"",contactNumber:"",role:"EMPLOYEE",hourlyRate:"12.00",passkey:"000000",status:"ACTIVE"}),await m()}return(0,n.useEffect)(()=>{m()},[]),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"card space-y-3",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Add Employee"}),(0,s.jsxs)("form",{className:"grid gap-3 md:grid-cols-3",onSubmit:h,children:[(0,s.jsx)("input",{className:"field",placeholder:"Employee ID",value:o.employeeId,onChange:e=>d(a=>({...a,employeeId:e.target.value})),required:!0}),(0,s.jsx)("input",{className:"field",placeholder:"Full Name",value:o.fullName,onChange:e=>d(a=>({...a,fullName:e.target.value})),required:!0}),(0,s.jsx)("input",{className:"field",placeholder:"Email (optional)",value:o.email,onChange:e=>d(a=>({...a,email:e.target.value}))}),(0,s.jsx)("input",{className:"field",placeholder:"Contact Number",value:o.contactNumber,onChange:e=>d(a=>({...a,contactNumber:e.target.value}))}),(0,s.jsx)("input",{className:"field",placeholder:"Hourly Rate",type:"number",step:"0.01",value:o.hourlyRate,onChange:e=>d(a=>({...a,hourlyRate:e.target.value})),required:!0}),(0,s.jsx)("input",{className:"field",placeholder:"Initial 6-digit passkey",pattern:"\\d{6}",value:o.passkey,onChange:e=>d(a=>({...a,passkey:e.target.value})),required:!0}),(0,s.jsxs)("select",{className:"field",value:o.role,onChange:e=>d(a=>({...a,role:e.target.value})),children:[(0,s.jsx)("option",{value:"EMPLOYEE",children:"Employee"}),(0,s.jsx)("option",{value:"SUPERVISOR",children:"Supervisor"}),(0,s.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,s.jsxs)("select",{className:"field",value:o.status,onChange:e=>d(a=>({...a,status:e.target.value})),children:[(0,s.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,s.jsx)("option",{value:"INACTIVE",children:"Inactive"})]}),(0,s.jsx)("button",{className:"btn-primary",disabled:c,children:c?"Saving...":"Create"})]})]}),(0,s.jsxs)("div",{className:"card space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Employee List"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{className:"field min-w-48",placeholder:"Search",value:l,onChange:e=>t(e.target.value)}),(0,s.jsx)("button",{className:"btn-secondary",onClick:m,children:"Filter"})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-slate-200 text-left",children:[(0,s.jsx)("th",{className:"py-2",children:"Employee ID"}),(0,s.jsx)("th",{className:"py-2",children:"Name"}),(0,s.jsx)("th",{className:"py-2",children:"Role"}),(0,s.jsx)("th",{className:"py-2",children:"Rate"}),(0,s.jsx)("th",{className:"py-2",children:"Status"}),(0,s.jsx)("th",{className:"py-2",children:"Action"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,s.jsx)("td",{className:"py-2",children:e.employeeId}),(0,s.jsx)("td",{className:"py-2",children:e.fullName}),(0,s.jsx)("td",{className:"py-2",children:e.role}),(0,s.jsxs)("td",{className:"py-2",children:["$",Number(e.hourlyRate).toFixed(2)]}),(0,s.jsx)("td",{className:"py-2",children:e.status}),(0,s.jsx)("td",{className:"py-2",children:(0,s.jsx)(r(),{className:"text-orange-700 underline",href:"/employees/".concat(e.id),children:"View"})})]},e.id))})]})})]})]})}}},e=>{e.O(0,[489,619,441,255,358],()=>e(e.s=5129)),_N_E=e.O()}]);