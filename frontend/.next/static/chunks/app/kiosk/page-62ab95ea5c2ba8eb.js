(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{652:(e,t,n)=>{Promise.resolve().then(n.bind(n,2617))},2617:(e,t,n)=>{"use strict";n.d(t,{KioskClient:()=>l});var a=n(5155),s=n(2115);function l(e){let{employeeId:t}=e,[n,l]=(0,s.useState)(null),[i,r]=(0,s.useState)(""),[o,c]=(0,s.useState)("");async function d(e){let n=await fetch("/api/attendance/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:t,passkey:i})}),a=await n.json();if(!n.ok)return void c(a.error||"Failed");c("time-in"===e?"Time In recorded":"Time Out recorded"),r("")}return(0,s.useEffect)(()=>{t&&fetch("/api/employees?employeeId=".concat(encodeURIComponent(t))).then(e=>e.json()).then(e=>{Array.isArray(e)&&e.length>0&&l({employeeId:e[0].employeeId,fullName:e[0].fullName})})},[t]),(0,a.jsxs)("div",{className:"mx-auto mt-8 w-full max-w-sm space-y-4 rounded-2xl border border-orange-100 bg-white p-5 shadow-sm",children:[(0,a.jsx)("h1",{className:"text-center text-xl font-semibold text-orange-700",children:"Attendance Kiosk"}),(0,a.jsx)("p",{className:"text-center text-sm text-slate-600",children:n?n.fullName:"Unknown employee"}),(0,a.jsx)("input",{className:"field text-center text-lg tracking-[0.3em]",maxLength:6,pattern:"\\d{6}",placeholder:"000000",value:i,onChange:e=>r(e.target.value)}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("button",{className:"btn-primary",onClick:()=>d("time-in"),children:"Time In"}),(0,a.jsx)("button",{className:"btn-secondary",onClick:()=>d("time-out"),children:"Time Out"})]}),(0,a.jsx)("p",{className:"text-center text-sm text-slate-700",children:o})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=652)),_N_E=e.O()}]);